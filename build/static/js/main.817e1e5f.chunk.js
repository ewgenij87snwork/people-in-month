(this["webpackJsonpmonth-people"]=this["webpackJsonpmonth-people"]||[]).push([[0],{17:function(e,t,n){e.exports=n(42)},22:function(e,t,n){},23:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),c=(n(22),Object(a.createContext)()),u=function(e){var t=e.item,n=t.month,o=t.color,l=t.data,u=Object(a.useContext)(c).showPeople;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"month ".concat(o),onMouseEnter:function(){return u(l)},onMouseLeave:function(){return u(!1)}},n))},s=function(){var e=Object(a.useContext)(c),t=e.months,n=e.getUsers;return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",{className:"months"},Array.isArray(t)&&t.map((function(e,t,n){return n.length&&r.a.createElement(u,{key:t,item:e})})))},i=function(e){var t=e.item,n=t.firstName,a=t.lastName;return r.a.createElement("li",{className:"person show-person"},n," ",a)},m=function(){var e=Object(a.useContext)(c).people;return r.a.createElement("div",{className:"people"},r.a.createElement("ol",null,Array.isArray(e)&&e.map((function(e,t,n){return n.length&&r.a.createElement(i,{key:t,item:e})}))))},p=function(){var e=Object(a.useContext)(c).legend;return r.a.createElement("div",{className:"legend"},"People in month:",Array.isArray(e)&&e.slice().reverse().map((function(e,t,n){return r.a.createElement("div",{className:"legend-case",key:t}," ",r.a.createElement("div",{className:"legend-color ".concat(e.color)}),r.a.createElement("div",{className:"legend-title"},0===t?" - ["+e.minPeople+"-"+n[t+1].minPeople+"] ":t>0&&t<n.length-1?" - ["+(e.minPeople+1)+"-"+n[t+1].minPeople+"] ":t===n.length-1?"- ["+(n[n.length-1].minPeople+1)+"+]":""))})))},d=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex-wrap"},r.a.createElement(s,null),r.a.createElement(m,null)),r.a.createElement(p,null))},f=(n(23),n(3)),h=n.n(f),E=n(2),v=n(14),y=n(16),b=n(15),g=n.n(b),P=function(e,t){switch(t.type){case"GET_MONTHS":return Object(E.a)({},e,{months:t.payload});case"GET_PEOPLE":return Object(E.a)({},e,{people:t.payload});default:return e}},O=function(e){var t=Object(a.useReducer)(P,{months:[],people:[],legend:[{minPeople:10,color:"red"},{minPeople:6,color:"green"},{minPeople:2,color:"blue"},{minPeople:0,color:"gray"}]}),n=Object(y.a)(t,2),o=n[0],l=n[1],u=o.months,s=o.legend,i=o.people,m=function(){var e=Object(v.a)(h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:for(t=e.sent,n=t.data,a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=n.map((function(e){return Object(E.a)({},e,{dob:new Date(e.dob)})})).reduce((function(e,t){var n=t.dob.getMonth();return e[n]?e[n].push(t):e[n]=[t],e}),{}),o=0;o<12;o++)u.push({month:a[o],data:r[o]});u.map((function(e){return e.color=s.find((function(t){return e.data.length>t.minPeople})).color})),l({type:"GET_MONTHS",payload:u});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(c.Provider,{value:{getUsers:m,showPeople:function(e){l({type:"GET_PEOPLE",payload:e})},months:u,people:i,legend:s}},e.children)},N=function(){return r.a.createElement(O,null,r.a.createElement(d,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.817e1e5f.chunk.js.map